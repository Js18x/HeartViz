{"ast":null,"code":"export const calculateCorrelationMatrix = (data, attributes) => {\n  const matrix = [];\n  for (let i = 0; i < attributes.length; i++) {\n    const row = [];\n    for (let j = 0; j < attributes.length; j++) {\n      const x = data.map(d => d[attributes[i]]);\n      const y = data.map(d => d[attributes[j]]);\n      row.push(calculateCorrelation(x, y));\n    }\n    matrix.push(row);\n  }\n  return matrix;\n};\nconst calculateCorrelation = (x, y) => {\n  const mean = arr => arr.reduce((a, b) => a + b, 0) / arr.length;\n  const meanX = mean(x);\n  const meanY = mean(y);\n  const numerator = x.map((xi, i) => (xi - meanX) * (y[i] - meanY)).reduce((a, b) => a + b, 0);\n  const denominator = Math.sqrt(x.map(xi => Math.pow(xi - meanX, 2)).reduce((a, b) => a + b, 0) * y.map(yi => Math.pow(yi - meanY, 2)).reduce((a, b) => a + b, 0));\n  return denominator === 0 ? 0 : numerator / denominator;\n};","map":{"version":3,"names":["calculateCorrelationMatrix","data","attributes","matrix","i","length","row","j","x","map","d","y","push","calculateCorrelation","mean","arr","reduce","a","b","meanX","meanY","numerator","xi","denominator","Math","sqrt","pow","yi"],"sources":["/Users/js/Desktop/HeartViz/heartviz_app_frontend/src/utils/correlation.js"],"sourcesContent":["export const calculateCorrelationMatrix = (data, attributes) => {\n  const matrix = [];\n  for (let i = 0; i < attributes.length; i++) {\n      const row = [];\n      for (let j = 0; j < attributes.length; j++) {\n          const x = data.map((d) => d[attributes[i]]);\n          const y = data.map((d) => d[attributes[j]]);\n          row.push(calculateCorrelation(x, y));\n      }\n      matrix.push(row);\n  }\n  return matrix;\n};\n\nconst calculateCorrelation = (x, y) => {\n  const mean = (arr) => arr.reduce((a, b) => a + b, 0) / arr.length;\n\n  const meanX = mean(x);\n  const meanY = mean(y);\n\n  const numerator = x\n      .map((xi, i) => (xi - meanX) * (y[i] - meanY))\n      .reduce((a, b) => a + b, 0);\n\n  const denominator = Math.sqrt(\n      x.map((xi) => Math.pow(xi - meanX, 2)).reduce((a, b) => a + b, 0) *\n      y.map((yi) => Math.pow(yi - meanY, 2)).reduce((a, b) => a + b, 0)\n  );\n\n  return denominator === 0 ? 0 : numerator / denominator;\n};\n"],"mappings":"AAAA,OAAO,MAAMA,0BAA0B,GAAGA,CAACC,IAAI,EAAEC,UAAU,KAAK;EAC9D,MAAMC,MAAM,GAAG,EAAE;EACjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,UAAU,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;IACxC,MAAME,GAAG,GAAG,EAAE;IACd,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,UAAU,CAACG,MAAM,EAAEE,CAAC,EAAE,EAAE;MACxC,MAAMC,CAAC,GAAGP,IAAI,CAACQ,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACR,UAAU,CAACE,CAAC,CAAC,CAAC,CAAC;MAC3C,MAAMO,CAAC,GAAGV,IAAI,CAACQ,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACR,UAAU,CAACK,CAAC,CAAC,CAAC,CAAC;MAC3CD,GAAG,CAACM,IAAI,CAACC,oBAAoB,CAACL,CAAC,EAAEG,CAAC,CAAC,CAAC;IACxC;IACAR,MAAM,CAACS,IAAI,CAACN,GAAG,CAAC;EACpB;EACA,OAAOH,MAAM;AACf,CAAC;AAED,MAAMU,oBAAoB,GAAGA,CAACL,CAAC,EAAEG,CAAC,KAAK;EACrC,MAAMG,IAAI,GAAIC,GAAG,IAAKA,GAAG,CAACC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC,GAAGH,GAAG,CAACV,MAAM;EAEjE,MAAMc,KAAK,GAAGL,IAAI,CAACN,CAAC,CAAC;EACrB,MAAMY,KAAK,GAAGN,IAAI,CAACH,CAAC,CAAC;EAErB,MAAMU,SAAS,GAAGb,CAAC,CACdC,GAAG,CAAC,CAACa,EAAE,EAAElB,CAAC,KAAK,CAACkB,EAAE,GAAGH,KAAK,KAAKR,CAAC,CAACP,CAAC,CAAC,GAAGgB,KAAK,CAAC,CAAC,CAC7CJ,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC;EAE/B,MAAMK,WAAW,GAAGC,IAAI,CAACC,IAAI,CACzBjB,CAAC,CAACC,GAAG,CAAEa,EAAE,IAAKE,IAAI,CAACE,GAAG,CAACJ,EAAE,GAAGH,KAAK,EAAE,CAAC,CAAC,CAAC,CAACH,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CAAC,GACjEP,CAAC,CAACF,GAAG,CAAEkB,EAAE,IAAKH,IAAI,CAACE,GAAG,CAACC,EAAE,GAAGP,KAAK,EAAE,CAAC,CAAC,CAAC,CAACJ,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC,CACpE,CAAC;EAED,OAAOK,WAAW,KAAK,CAAC,GAAG,CAAC,GAAGF,SAAS,GAAGE,WAAW;AACxD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}