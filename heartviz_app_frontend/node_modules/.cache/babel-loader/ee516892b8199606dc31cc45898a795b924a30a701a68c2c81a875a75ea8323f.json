{"ast":null,"code":"var _jsxFileName = \"/Users/js/Desktop/HeartViz/heartviz_app_frontend/src/pages/scatterPlot.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Plot from 'react-plotly.js';\nimport Select from 'react-select';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ScatterPlot = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [xFeature, setXFeature] = useState('');\n  const [yFeatures, setYFeatures] = useState([]);\n  const [features, setFeatures] = useState([]);\n  useEffect(() => {\n    // Replace with your actual URL\n    axios.get('http://127.0.0.1:5000/fetch_data_with_features').then(response => {\n      console.log('Fetched data:', response.data); // Debug log to inspect fetched data\n\n      const rawData = response.data.data;\n      const keys = Object.keys(rawData);\n      const transformedData = rawData[keys[0]].map((_, i) => {\n        const obj = {};\n        keys.forEach(key => {\n          obj[key] = rawData[key][i];\n        });\n        return obj;\n      });\n      console.log('Transformed data:', transformedData); // Debug log to inspect transformed data\n\n      setData(transformedData);\n      setFeatures(keys);\n      if (keys.length > 1) {\n        setXFeature(keys[0]);\n        setYFeatures([keys[1]]);\n      }\n    }).catch(error => console.error('Error fetching data:', error));\n  }, []);\n  const handleXFeatureChange = event => {\n    setXFeature(event.target.value);\n  };\n  const handleYFeaturesChange = selectedOptions => {\n    setYFeatures(selectedOptions.map(option => option.value));\n  };\n  const normalize = arr => {\n    const max = Math.max(...arr);\n    const min = Math.min(...arr);\n    return arr.map(value => (value - min) / (max - min));\n  };\n  const plotData = yFeatures.map((yFeature, index) => {\n    const yValues = data.map(item => item[yFeature]);\n    const normalizedYValues = normalize(yValues);\n    return {\n      x: data.map(item => item[xFeature]),\n      y: normalizedYValues,\n      mode: 'markers',\n      type: 'scatter',\n      name: yFeature,\n      marker: {\n        color: `hsl(${index * 360 / yFeatures.length}, 70%, 50%)`\n      }\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Plot, {\n      data: plotData,\n      layout: {\n        width: 1000,\n        height: 600,\n        title: 'Scatter Plot',\n        xaxis: {\n          title: xFeature\n        },\n        yaxis: {\n          title: 'Normalized Values'\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"X Axis\", /*#__PURE__*/_jsxDEV(\"select\", {\n          value: xFeature,\n          onChange: handleXFeatureChange,\n          children: features.map(feature => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: feature,\n            children: feature\n          }, feature, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Y Axis\", /*#__PURE__*/_jsxDEV(Select, {\n          isMulti: true,\n          value: yFeatures.map(feature => ({\n            value: feature,\n            label: feature\n          })),\n          options: features.map(feature => ({\n            value: feature,\n            label: feature\n          })),\n          onChange: handleYFeaturesChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(ScatterPlot, \"45Lkgx5ExvxdMSiy52S+Vh4lfKw=\");\n_c = ScatterPlot;\nexport default ScatterPlot;\nvar _c;\n$RefreshReg$(_c, \"ScatterPlot\");","map":{"version":3,"names":["React","useState","useEffect","Plot","Select","axios","jsxDEV","_jsxDEV","ScatterPlot","_s","data","setData","xFeature","setXFeature","yFeatures","setYFeatures","features","setFeatures","get","then","response","console","log","rawData","keys","Object","transformedData","map","_","i","obj","forEach","key","length","catch","error","handleXFeatureChange","event","target","value","handleYFeaturesChange","selectedOptions","option","normalize","arr","max","Math","min","plotData","yFeature","index","yValues","item","normalizedYValues","x","y","mode","type","name","marker","color","children","layout","width","height","title","xaxis","yaxis","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","onChange","feature","isMulti","label","options","_c","$RefreshReg$"],"sources":["/Users/js/Desktop/HeartViz/heartviz_app_frontend/src/pages/scatterPlot.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Plot from 'react-plotly.js';\nimport Select from 'react-select';\nimport axios from 'axios';\n\nconst ScatterPlot = () => {\n  const [data, setData] = useState([]);\n  const [xFeature, setXFeature] = useState('');\n  const [yFeatures, setYFeatures] = useState([]);\n  const [features, setFeatures] = useState([]);\n\n  useEffect(() => {\n    // Replace with your actual URL\n    axios.get('http://127.0.0.1:5000/fetch_data_with_features')\n      .then(response => {\n        console.log('Fetched data:', response.data); // Debug log to inspect fetched data\n\n        const rawData = response.data.data;\n        const keys = Object.keys(rawData);\n        const transformedData = rawData[keys[0]].map((_, i) => {\n          const obj = {};\n          keys.forEach(key => {\n            obj[key] = rawData[key][i];\n          });\n          return obj;\n        });\n\n        console.log('Transformed data:', transformedData); // Debug log to inspect transformed data\n\n        setData(transformedData);\n        setFeatures(keys);\n        if (keys.length > 1) {\n          setXFeature(keys[0]);\n          setYFeatures([keys[1]]);\n        }\n      })\n      .catch(error => console.error('Error fetching data:', error));\n  }, []);\n\n  const handleXFeatureChange = (event) => {\n    setXFeature(event.target.value);\n  };\n\n  const handleYFeaturesChange = (selectedOptions) => {\n    setYFeatures(selectedOptions.map(option => option.value));\n  };\n\n  const normalize = (arr) => {\n    const max = Math.max(...arr);\n    const min = Math.min(...arr);\n    return arr.map(value => (value - min) / (max - min));\n  };\n\n  const plotData = yFeatures.map((yFeature, index) => {\n    const yValues = data.map(item => item[yFeature]);\n    const normalizedYValues = normalize(yValues);\n    return {\n      x: data.map(item => item[xFeature]),\n      y: normalizedYValues,\n      mode: 'markers',\n      type: 'scatter',\n      name: yFeature,\n      marker: { color: `hsl(${index * 360 / yFeatures.length}, 70%, 50%)` }\n    };\n  });\n\n  return (\n    <div>\n      <Plot\n        data={plotData}\n        layout={{\n          width: 1000,\n          height: 600,\n          title: 'Scatter Plot',\n          xaxis: { title: xFeature },\n          yaxis: { title: 'Normalized Values' },\n        }}\n      />\n      <div style={{ marginTop: '20px' }}>\n        <label>\n          X Axis \n          <select value={xFeature} onChange={handleXFeatureChange}>\n            {features.map(feature => (\n              <option key={feature} value={feature}>{feature}</option>\n            ))}\n          </select>\n        </label>\n        \n      </div>\n\n      \n\n\n      <div style={{ marginTop: '20px' }}>   \n        \n        <label>\n          Y Axis \n          <Select\n            isMulti\n            value={yFeatures.map(feature => ({ value: feature, label: feature }))}\n            options={features.map(feature => ({ value: feature, label: feature }))}\n            onChange={handleYFeaturesChange}\n          />\n        </label>\n      </div>\n\n\n    </div>\n  );\n};\n\nexport default ScatterPlot;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}