{"ast":null,"code":"var _jsxFileName = \"/Users/js/Desktop/HeartViz/heartviz_app_frontend/src/components/distribution/dualDistribution.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Plot from \"react-plotly.js\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DualSubspaceDistributionPlot = ({\n  subspace1Id,\n  subspace2Id\n}) => {\n  _s();\n  const [attribute, setAttribute] = useState(\"\");\n  const [attributes, setAttributes] = useState([]);\n  const [distribution1, setDistribution1] = useState({});\n  const [distribution2, setDistribution2] = useState({});\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    // Fetch available attributes (common between the two subspaces)\n    const fetchAttributes = async () => {\n      try {\n        const response = await axios.get(\"http://127.0.0.1:5000/feature_ranges\", {\n          params: {\n            sub_ind: subspace1Id\n          }\n        });\n        const attributes = Object.keys(response.data.feature_ranges);\n        setAttributes(attributes);\n        setAttribute(attributes[0]); // Default to the first attribute\n      } catch (err) {\n        setError(\"Failed to fetch attributes.\");\n      }\n    };\n    fetchAttributes();\n  }, [subspace1Id]);\n  useEffect(() => {\n    if (attribute) {\n      // Fetch label-wise distributions for both subspaces\n      const fetchDistribution = async (subspaceId, setDistribution) => {\n        try {\n          const response = await axios.get(\"http://127.0.0.1:5000/distribution_by_feature\", {\n            params: {\n              sub_ind: subspaceId,\n              feature: attribute,\n              by_label: true\n            }\n          });\n          setDistribution(response.data);\n        } catch (err) {\n          setError(\"Failed to fetch distributions.\");\n        }\n      };\n      fetchDistribution(subspace1Id, setDistribution1);\n      fetchDistribution(subspace2Id, setDistribution2);\n    }\n  }, [attribute, subspace1Id, subspace2Id]);\n  const plotData = () => {\n    if (!distribution1 || !distribution2) return [];\n    const createTrace = (data, name, color) => ({\n      x: Object.keys(data),\n      y: Object.values(data),\n      type: \"bar\",\n      name,\n      marker: {\n        color\n      }\n    });\n    return [createTrace(distribution1, `Subspace ${subspace1Id}`, \"blue\"), createTrace(distribution2, `Subspace ${subspace2Id}`, \"orange\")];\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          marginRight: \"10px\"\n        },\n        children: \"Attribute:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: attribute,\n        onChange: e => setAttribute(e.target.value),\n        children: attributes.map(attr => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: attr,\n          children: attr\n        }, attr, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }, this), plotData().length > 0 && /*#__PURE__*/_jsxDEV(Plot, {\n      data: plotData(),\n      layout: {\n        title: `Label-Wise Distribution of ${attribute} for Subspaces ${subspace1Id} and ${subspace2Id}`,\n        barmode: \"group\",\n        xaxis: {\n          title: {\n            text: \"Labels (0, 1, 2, 3, 4)\",\n            standoff: 40\n          }\n        },\n        yaxis: {\n          title: \"Frequency\"\n        },\n        margin: {\n          b: 100\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(DualSubspaceDistributionPlot, \"NH3mIqCbwVDAhnda010Uy/k1snw=\");\n_c = DualSubspaceDistributionPlot;\nexport default DualSubspaceDistributionPlot;\nvar _c;\n$RefreshReg$(_c, \"DualSubspaceDistributionPlot\");","map":{"version":3,"names":["React","useState","useEffect","Plot","axios","jsxDEV","_jsxDEV","DualSubspaceDistributionPlot","subspace1Id","subspace2Id","_s","attribute","setAttribute","attributes","setAttributes","distribution1","setDistribution1","distribution2","setDistribution2","error","setError","fetchAttributes","response","get","params","sub_ind","Object","keys","data","feature_ranges","err","fetchDistribution","subspaceId","setDistribution","feature","by_label","plotData","createTrace","name","color","x","y","values","type","marker","style","textAlign","padding","children","marginBottom","marginRight","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","map","attr","length","layout","title","barmode","xaxis","text","standoff","yaxis","margin","b","_c","$RefreshReg$"],"sources":["/Users/js/Desktop/HeartViz/heartviz_app_frontend/src/components/distribution/dualDistribution.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Plot from \"react-plotly.js\";\nimport axios from \"axios\";\n\nconst DualSubspaceDistributionPlot = ({ subspace1Id, subspace2Id }) => {\n  const [attribute, setAttribute] = useState(\"\");\n  const [attributes, setAttributes] = useState([]);\n  const [distribution1, setDistribution1] = useState({});\n  const [distribution2, setDistribution2] = useState({});\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    // Fetch available attributes (common between the two subspaces)\n    const fetchAttributes = async () => {\n      try {\n        const response = await axios.get(\"http://127.0.0.1:5000/feature_ranges\", {\n          params: { sub_ind: subspace1Id },\n        });\n        const attributes = Object.keys(response.data.feature_ranges);\n        setAttributes(attributes);\n        setAttribute(attributes[0]); // Default to the first attribute\n      } catch (err) {\n        setError(\"Failed to fetch attributes.\");\n      }\n    };\n\n    fetchAttributes();\n  }, [subspace1Id]);\n\n  useEffect(() => {\n    if (attribute) {\n      // Fetch label-wise distributions for both subspaces\n      const fetchDistribution = async (subspaceId, setDistribution) => {\n        try {\n          const response = await axios.get(\n            \"http://127.0.0.1:5000/distribution_by_feature\",\n            {\n              params: { sub_ind: subspaceId, feature: attribute, by_label: true },\n            }\n          );\n          setDistribution(response.data);\n        } catch (err) {\n          setError(\"Failed to fetch distributions.\");\n        }\n      };\n\n      fetchDistribution(subspace1Id, setDistribution1);\n      fetchDistribution(subspace2Id, setDistribution2);\n    }\n  }, [attribute, subspace1Id, subspace2Id]);\n\n  const plotData = () => {\n    if (!distribution1 || !distribution2) return [];\n\n    const createTrace = (data, name, color) => ({\n      x: Object.keys(data),\n      y: Object.values(data),\n      type: \"bar\",\n      name,\n      marker: { color },\n    });\n\n    return [\n      createTrace(distribution1, `Subspace ${subspace1Id}`, \"blue\"),\n      createTrace(distribution2, `Subspace ${subspace2Id}`, \"orange\"),\n    ];\n  };\n\n  return (\n    <div style={{ textAlign: \"center\", padding: \"20px\" }}>\n      <div style={{ marginBottom: \"20px\" }}>\n        <label style={{ marginRight: \"10px\" }}>Attribute:</label>\n        <select value={attribute} onChange={(e) => setAttribute(e.target.value)}>\n          {attributes.map((attr) => (\n            <option key={attr} value={attr}>\n              {attr}\n            </option>\n          ))}\n        </select>\n      </div>\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n      {plotData().length > 0 && (\n        <Plot\n          data={plotData()}\n          layout={{\n            title: `Label-Wise Distribution of ${attribute} for Subspaces ${subspace1Id} and ${subspace2Id}`,\n            barmode: \"group\",\n            xaxis: {\n              title: { text: \"Labels (0, 1, 2, 3, 4)\", standoff: 40 },\n            },\n            yaxis: {\n              title: \"Frequency\",\n            },\n            margin: { b: 100 },\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default DualSubspaceDistributionPlot;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,IAAI,MAAM,iBAAiB;AAClC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,4BAA4B,GAAGA,CAAC;EAAEC,WAAW;EAAEC;AAAY,CAAC,KAAK;EAAAC,EAAA;EACrE,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACY,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACc,aAAa,EAAEC,gBAAgB,CAAC,GAAGf,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtD,MAAM,CAACgB,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtD,MAAM,CAACkB,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACd;IACA,MAAMmB,eAAe,GAAG,MAAAA,CAAA,KAAY;MAClC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,GAAG,CAAC,sCAAsC,EAAE;UACvEC,MAAM,EAAE;YAAEC,OAAO,EAAEjB;UAAY;QACjC,CAAC,CAAC;QACF,MAAMK,UAAU,GAAGa,MAAM,CAACC,IAAI,CAACL,QAAQ,CAACM,IAAI,CAACC,cAAc,CAAC;QAC5Df,aAAa,CAACD,UAAU,CAAC;QACzBD,YAAY,CAACC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC/B,CAAC,CAAC,OAAOiB,GAAG,EAAE;QACZV,QAAQ,CAAC,6BAA6B,CAAC;MACzC;IACF,CAAC;IAEDC,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,CAACb,WAAW,CAAC,CAAC;EAEjBN,SAAS,CAAC,MAAM;IACd,IAAIS,SAAS,EAAE;MACb;MACA,MAAMoB,iBAAiB,GAAG,MAAAA,CAAOC,UAAU,EAAEC,eAAe,KAAK;QAC/D,IAAI;UACF,MAAMX,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,GAAG,CAC9B,+CAA+C,EAC/C;YACEC,MAAM,EAAE;cAAEC,OAAO,EAAEO,UAAU;cAAEE,OAAO,EAAEvB,SAAS;cAAEwB,QAAQ,EAAE;YAAK;UACpE,CACF,CAAC;UACDF,eAAe,CAACX,QAAQ,CAACM,IAAI,CAAC;QAChC,CAAC,CAAC,OAAOE,GAAG,EAAE;UACZV,QAAQ,CAAC,gCAAgC,CAAC;QAC5C;MACF,CAAC;MAEDW,iBAAiB,CAACvB,WAAW,EAAEQ,gBAAgB,CAAC;MAChDe,iBAAiB,CAACtB,WAAW,EAAES,gBAAgB,CAAC;IAClD;EACF,CAAC,EAAE,CAACP,SAAS,EAAEH,WAAW,EAAEC,WAAW,CAAC,CAAC;EAEzC,MAAM2B,QAAQ,GAAGA,CAAA,KAAM;IACrB,IAAI,CAACrB,aAAa,IAAI,CAACE,aAAa,EAAE,OAAO,EAAE;IAE/C,MAAMoB,WAAW,GAAGA,CAACT,IAAI,EAAEU,IAAI,EAAEC,KAAK,MAAM;MAC1CC,CAAC,EAAEd,MAAM,CAACC,IAAI,CAACC,IAAI,CAAC;MACpBa,CAAC,EAAEf,MAAM,CAACgB,MAAM,CAACd,IAAI,CAAC;MACtBe,IAAI,EAAE,KAAK;MACXL,IAAI;MACJM,MAAM,EAAE;QAAEL;MAAM;IAClB,CAAC,CAAC;IAEF,OAAO,CACLF,WAAW,CAACtB,aAAa,EAAE,YAAYP,WAAW,EAAE,EAAE,MAAM,CAAC,EAC7D6B,WAAW,CAACpB,aAAa,EAAE,YAAYR,WAAW,EAAE,EAAE,QAAQ,CAAC,CAChE;EACH,CAAC;EAED,oBACEH,OAAA;IAAKuC,KAAK,EAAE;MAAEC,SAAS,EAAE,QAAQ;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAC,QAAA,gBACnD1C,OAAA;MAAKuC,KAAK,EAAE;QAAEI,YAAY,EAAE;MAAO,CAAE;MAAAD,QAAA,gBACnC1C,OAAA;QAAOuC,KAAK,EAAE;UAAEK,WAAW,EAAE;QAAO,CAAE;QAAAF,QAAA,EAAC;MAAU;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACzDhD,OAAA;QAAQiD,KAAK,EAAE5C,SAAU;QAAC6C,QAAQ,EAAGC,CAAC,IAAK7C,YAAY,CAAC6C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QAAAP,QAAA,EACrEnC,UAAU,CAAC8C,GAAG,CAAEC,IAAI,iBACnBtD,OAAA;UAAmBiD,KAAK,EAAEK,IAAK;UAAAZ,QAAA,EAC5BY;QAAI,GADMA,IAAI;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAET,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EACLnC,KAAK,iBAAIb,OAAA;MAAGuC,KAAK,EAAE;QAAEN,KAAK,EAAE;MAAM,CAAE;MAAAS,QAAA,EAAE7B;IAAK;MAAAgC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAChDlB,QAAQ,CAAC,CAAC,CAACyB,MAAM,GAAG,CAAC,iBACpBvD,OAAA,CAACH,IAAI;MACHyB,IAAI,EAAEQ,QAAQ,CAAC,CAAE;MACjB0B,MAAM,EAAE;QACNC,KAAK,EAAE,8BAA8BpD,SAAS,kBAAkBH,WAAW,QAAQC,WAAW,EAAE;QAChGuD,OAAO,EAAE,OAAO;QAChBC,KAAK,EAAE;UACLF,KAAK,EAAE;YAAEG,IAAI,EAAE,wBAAwB;YAAEC,QAAQ,EAAE;UAAG;QACxD,CAAC;QACDC,KAAK,EAAE;UACLL,KAAK,EAAE;QACT,CAAC;QACDM,MAAM,EAAE;UAAEC,CAAC,EAAE;QAAI;MACnB;IAAE;MAAAnB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC5C,EAAA,CA/FIH,4BAA4B;AAAAgE,EAAA,GAA5BhE,4BAA4B;AAiGlC,eAAeA,4BAA4B;AAAC,IAAAgE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}